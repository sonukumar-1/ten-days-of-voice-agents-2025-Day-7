Loading env from: /Users/himanshujha/ten-days-of-voice-agents-2025/backend/.env.local
LIVEKIT_URL: wss://voice-agent-l98evavb.livekit.cloud
DEEPGRAM_API_KEY: Present
{"level": "INFO", "name": "livekit.agents", "message": "starting worker", "version": "1.3.4", "rtc-version": "1.0.19", "timestamp": "2025-11-25T15:40:31.664682+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "starting inference executor", "timestamp": "2025-11-25T15:40:31.664789+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "initializing process", "pid": 8144, "inference": true, "timestamp": "2025-11-25T15:40:31.677352+00:00"}
Could not find model livekit/turn-detector with revision v0.4.1-intl. Make sure you have downloaded the model before running the agent. Use `python3 your_agent.py download-files` to download the models.
error initializing inference runner
Traceback (most recent call last):
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/ipc/inference_proc_lazy_main.py", line 69, in initialize
    runner.initialize()
    ~~~~~~~~~~~~~~~~~^^
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py", line 146, in initialize
    raise RuntimeError(
    ...<2 lines>...
    ) from None
RuntimeError: livekit-plugins-turn-detector initialization failed. Could not find model livekit/turn-detector with revision v0.4.1-intl.
{"level": "INFO", "name": "livekit.agents", "message": "process initialized", "pid": 8144, "inference": true, "elapsed_time": 2.32, "timestamp": "2025-11-25T15:40:34.000757+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "initializing process", "pid": 8155, "timestamp": "2025-11-25T15:40:34.016129+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "initializing process", "pid": 8156, "timestamp": "2025-11-25T15:40:34.016429+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "initializing process", "pid": 8157, "timestamp": "2025-11-25T15:40:34.016615+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "initializing process", "pid": 8158, "timestamp": "2025-11-25T15:40:34.016737+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "process initialized", "pid": 8156, "elapsed_time": 1.56, "timestamp": "2025-11-25T15:40:35.574524+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "process initialized", "pid": 8157, "elapsed_time": 1.56, "timestamp": "2025-11-25T15:40:35.576434+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "process initialized", "pid": 8158, "elapsed_time": 1.56, "timestamp": "2025-11-25T15:40:35.581500+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "process initialized", "pid": 8155, "elapsed_time": 1.57, "timestamp": "2025-11-25T15:40:35.584864+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "registered worker", "agent_name": "", "id": "AW_d9WknkhPh6q4", "url": "wss://voice-agent-l98evavb.livekit.cloud", "region": "India South", "protocol": 16, "timestamp": "2025-11-25T15:40:36.291886+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "received job request", "job_id": "AJ_4LfeTFNK7MfG", "dispatch_id": "AD_6RYpDrcxtfsf", "room": "voice_assistant_room_4404", "room_id": "RM_Vqf5fZzBkbeu", "agent_name": "", "resuming": false, "enable_recording": false, "timestamp": "2025-11-25T15:41:54.088692+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "RoomInputOptions and RoomOutputOptions are deprecated, use RoomOptions instead", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:41:54.392988+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "initializing process", "pid": 8368, "timestamp": "2025-11-25T15:41:54.407727+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "process initialized", "pid": 8368, "elapsed_time": 1.45, "timestamp": "2025-11-25T15:41:55.859016+00:00"}
error running inference
Traceback (most recent call last):
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/ipc/inference_proc_lazy_main.py", line 103, in _handle_inference_request
    data = await loop.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self._executor, self._runners[msg.method].run, msg.data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/anaconda3/lib/python3.13/concurrent/futures/thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py", line 159, in run
    text = self._format_chat_ctx(chat_ctx)
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py", line 86, in _format_chat_ctx
    convo_text = self._tokenizer.apply_chat_template(
                 ^^^^^^^^^^^^^^^
AttributeError: '_EUORunnerMultilingual' object has no attribute '_tokenizer'
{"level": "ERROR", "name": "livekit.agents", "message": "Error predicting end of turn\nTraceback (most recent call last):\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/voice/audio_recognition.py\", line 535, in _bounce_eou_task\n    end_of_turn_probability = await turn_detector.predict_end_of_turn(\n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        chat_ctx\n        ^^^^^^^^\n    )\n    ^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/multilingual.py\", line 70, in predict_end_of_turn\n    return await super().predict_end_of_turn(chat_ctx, timeout=timeout)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py\", line 288, in predict_end_of_turn\n    result = await asyncio.wait_for(\n             ^^^^^^^^^^^^^^^^^^^^^^^\n        self._executor.do_inference(self._inference_method(), json_data), timeout=timeout\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/opt/anaconda3/lib/python3.13/asyncio/tasks.py\", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/ipc/job_proc_lazy_main.py\", line 140, in do_inference\n    raise RuntimeError(f\"inference of {method} failed: {inf_resp.error}\")\nRuntimeError: inference of lk_end_of_utterance_multilingual failed: inference of lk_end_of_utterance_multilingual failed: '_EUORunnerMultilingual' object has no attribute '_tokenizer'", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:41:57.665551+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "EOU metrics", "room": "voice_assistant_room_4404", "model_name": "multilingual", "model_provider": "livekit", "end_of_utterance_delay": 0.56, "transcription_delay": 0.53, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:41:57.669094+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 3.45, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:41:59.457102+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "LLM metrics", "room": "voice_assistant_room_4404", "model_name": "gemini-2.5-flash", "model_provider": "Gemini", "ttft": 2.06, "prompt_tokens": 891, "prompt_cached_tokens": 0, "completion_tokens": 26, "tokens_per_second": 12.59, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:41:59.705043+00:00"}
error running inference
Traceback (most recent call last):
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/ipc/inference_proc_lazy_main.py", line 103, in _handle_inference_request
    data = await loop.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self._executor, self._runners[msg.method].run, msg.data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/anaconda3/lib/python3.13/concurrent/futures/thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py", line 159, in run
    text = self._format_chat_ctx(chat_ctx)
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py", line 86, in _format_chat_ctx
    convo_text = self._tokenizer.apply_chat_template(
                 ^^^^^^^^^^^^^^^
AttributeError: '_EUORunnerMultilingual' object has no attribute '_tokenizer'
{"level": "ERROR", "name": "livekit.agents", "message": "Error predicting end of turn\nTraceback (most recent call last):\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/voice/audio_recognition.py\", line 535, in _bounce_eou_task\n    end_of_turn_probability = await turn_detector.predict_end_of_turn(\n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        chat_ctx\n        ^^^^^^^^\n    )\n    ^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/multilingual.py\", line 70, in predict_end_of_turn\n    return await super().predict_end_of_turn(chat_ctx, timeout=timeout)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py\", line 288, in predict_end_of_turn\n    result = await asyncio.wait_for(\n             ^^^^^^^^^^^^^^^^^^^^^^^\n        self._executor.do_inference(self._inference_method(), json_data), timeout=timeout\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/opt/anaconda3/lib/python3.13/asyncio/tasks.py\", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/ipc/job_proc_lazy_main.py\", line 140, in do_inference\n    raise RuntimeError(f\"inference of {method} failed: {inf_resp.error}\")\nRuntimeError: inference of lk_end_of_utterance_multilingual failed: inference of lk_end_of_utterance_multilingual failed: '_EUORunnerMultilingual' object has no attribute '_tokenizer'", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:42:01.185488+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "EOU metrics", "room": "voice_assistant_room_4404", "model_name": "multilingual", "model_provider": "livekit", "end_of_utterance_delay": 1.23, "transcription_delay": 1.2, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:42:01.189342+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "LLM metrics", "room": "voice_assistant_room_4404", "model_name": "gemini-2.5-flash", "model_provider": "Gemini", "ttft": 1.07, "prompt_tokens": 893, "prompt_cached_tokens": 0, "completion_tokens": 26, "tokens_per_second": 21.86, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:42:02.379723+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.05, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:42:04.506567+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "TTS metrics", "room": "voice_assistant_room_4404", "model_name": "aura-helios-en", "model_provider": "Deepgram", "ttfb": 0.7280085829997915, "audio_duration": 6.57, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:42:05.242662+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.05, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:42:09.556474+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.0, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:42:14.557983+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.05, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:42:19.606582+00:00"}
error running inference
Traceback (most recent call last):
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/ipc/inference_proc_lazy_main.py", line 103, in _handle_inference_request
    data = await loop.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self._executor, self._runners[msg.method].run, msg.data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/anaconda3/lib/python3.13/concurrent/futures/thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py", line 159, in run
    text = self._format_chat_ctx(chat_ctx)
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py", line 86, in _format_chat_ctx
    convo_text = self._tokenizer.apply_chat_template(
                 ^^^^^^^^^^^^^^^
AttributeError: '_EUORunnerMultilingual' object has no attribute '_tokenizer'
{"level": "ERROR", "name": "livekit.agents", "message": "Error predicting end of turn\nTraceback (most recent call last):\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/voice/audio_recognition.py\", line 535, in _bounce_eou_task\n    end_of_turn_probability = await turn_detector.predict_end_of_turn(\n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        chat_ctx\n        ^^^^^^^^\n    )\n    ^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/multilingual.py\", line 70, in predict_end_of_turn\n    return await super().predict_end_of_turn(chat_ctx, timeout=timeout)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py\", line 288, in predict_end_of_turn\n    result = await asyncio.wait_for(\n             ^^^^^^^^^^^^^^^^^^^^^^^\n        self._executor.do_inference(self._inference_method(), json_data), timeout=timeout\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/opt/anaconda3/lib/python3.13/asyncio/tasks.py\", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/ipc/job_proc_lazy_main.py\", line 140, in do_inference\n    raise RuntimeError(f\"inference of {method} failed: {inf_resp.error}\")\nRuntimeError: inference of lk_end_of_utterance_multilingual failed: inference of lk_end_of_utterance_multilingual failed: '_EUORunnerMultilingual' object has no attribute '_tokenizer'", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:42:20.866336+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "EOU metrics", "room": "voice_assistant_room_4404", "model_name": "multilingual", "model_provider": "livekit", "end_of_utterance_delay": 0.96, "transcription_delay": 0.94, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:42:20.868696+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "LLM metrics", "room": "voice_assistant_room_4404", "model_name": "gemini-2.5-flash", "model_provider": "Gemini", "ttft": 1.17, "prompt_tokens": 927, "prompt_cached_tokens": 0, "completion_tokens": 85, "tokens_per_second": 53.88, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:42:22.433861+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.05, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:42:24.655901+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "TTS metrics", "room": "voice_assistant_room_4404", "model_name": "aura-helios-en", "model_provider": "Deepgram", "ttfb": 1.0177455000002738, "audio_duration": 21.27, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:42:24.925123+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.0, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:42:29.656224+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.0, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:42:34.656403+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.05, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:42:39.706217+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.0, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:42:44.707037+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.0, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:42:49.707050+00:00"}
error running inference
Traceback (most recent call last):
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/ipc/inference_proc_lazy_main.py", line 103, in _handle_inference_request
    data = await loop.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self._executor, self._runners[msg.method].run, msg.data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/anaconda3/lib/python3.13/concurrent/futures/thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py", line 159, in run
    text = self._format_chat_ctx(chat_ctx)
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py", line 86, in _format_chat_ctx
    convo_text = self._tokenizer.apply_chat_template(
                 ^^^^^^^^^^^^^^^
AttributeError: '_EUORunnerMultilingual' object has no attribute '_tokenizer'
{"level": "ERROR", "name": "livekit.agents", "message": "Error predicting end of turn\nTraceback (most recent call last):\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/voice/audio_recognition.py\", line 535, in _bounce_eou_task\n    end_of_turn_probability = await turn_detector.predict_end_of_turn(\n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        chat_ctx\n        ^^^^^^^^\n    )\n    ^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/multilingual.py\", line 70, in predict_end_of_turn\n    return await super().predict_end_of_turn(chat_ctx, timeout=timeout)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py\", line 288, in predict_end_of_turn\n    result = await asyncio.wait_for(\n             ^^^^^^^^^^^^^^^^^^^^^^^\n        self._executor.do_inference(self._inference_method(), json_data), timeout=timeout\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/opt/anaconda3/lib/python3.13/asyncio/tasks.py\", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/ipc/job_proc_lazy_main.py\", line 140, in do_inference\n    raise RuntimeError(f\"inference of {method} failed: {inf_resp.error}\")\nRuntimeError: inference of lk_end_of_utterance_multilingual failed: inference of lk_end_of_utterance_multilingual failed: '_EUORunnerMultilingual' object has no attribute '_tokenizer'", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:42:51.215632+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "EOU metrics", "room": "voice_assistant_room_4404", "model_name": "multilingual", "model_provider": "livekit", "end_of_utterance_delay": 0.56, "transcription_delay": 0.0, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:42:51.218344+00:00"}
error running inference
Traceback (most recent call last):
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/ipc/inference_proc_lazy_main.py", line 103, in _handle_inference_request
    data = await loop.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self._executor, self._runners[msg.method].run, msg.data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/anaconda3/lib/python3.13/concurrent/futures/thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py", line 159, in run
    text = self._format_chat_ctx(chat_ctx)
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py", line 86, in _format_chat_ctx
    convo_text = self._tokenizer.apply_chat_template(
                 ^^^^^^^^^^^^^^^
AttributeError: '_EUORunnerMultilingual' object has no attribute '_tokenizer'
{"level": "INFO", "name": "livekit.agents", "message": "LLM metrics", "room": "voice_assistant_room_4404", "model_name": "gemini-2.5-flash", "model_provider": "Gemini", "ttft": 1.38, "prompt_tokens": 1021, "prompt_cached_tokens": 0, "completion_tokens": 3, "tokens_per_second": 2.18, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:42:51.516992+00:00"}
{"level": "ERROR", "name": "livekit.agents", "message": "Error predicting end of turn\nTraceback (most recent call last):\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/voice/audio_recognition.py\", line 535, in _bounce_eou_task\n    end_of_turn_probability = await turn_detector.predict_end_of_turn(\n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        chat_ctx\n        ^^^^^^^^\n    )\n    ^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/multilingual.py\", line 70, in predict_end_of_turn\n    return await super().predict_end_of_turn(chat_ctx, timeout=timeout)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py\", line 288, in predict_end_of_turn\n    result = await asyncio.wait_for(\n             ^^^^^^^^^^^^^^^^^^^^^^^\n        self._executor.do_inference(self._inference_method(), json_data), timeout=timeout\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/opt/anaconda3/lib/python3.13/asyncio/tasks.py\", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/ipc/job_proc_lazy_main.py\", line 140, in do_inference\n    raise RuntimeError(f\"inference of {method} failed: {inf_resp.error}\")\nRuntimeError: inference of lk_end_of_utterance_multilingual failed: inference of lk_end_of_utterance_multilingual failed: '_EUORunnerMultilingual' object has no attribute '_tokenizer'", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:42:51.519899+00:00"}
error running inference
Traceback (most recent call last):
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/ipc/inference_proc_lazy_main.py", line 103, in _handle_inference_request
    data = await loop.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self._executor, self._runners[msg.method].run, msg.data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/anaconda3/lib/python3.13/concurrent/futures/thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py", line 159, in run
    text = self._format_chat_ctx(chat_ctx)
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py", line 86, in _format_chat_ctx
    convo_text = self._tokenizer.apply_chat_template(
                 ^^^^^^^^^^^^^^^
AttributeError: '_EUORunnerMultilingual' object has no attribute '_tokenizer'
{"level": "ERROR", "name": "livekit.agents", "message": "Error predicting end of turn\nTraceback (most recent call last):\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/voice/audio_recognition.py\", line 535, in _bounce_eou_task\n    end_of_turn_probability = await turn_detector.predict_end_of_turn(\n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        chat_ctx\n        ^^^^^^^^\n    )\n    ^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/multilingual.py\", line 70, in predict_end_of_turn\n    return await super().predict_end_of_turn(chat_ctx, timeout=timeout)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py\", line 288, in predict_end_of_turn\n    result = await asyncio.wait_for(\n             ^^^^^^^^^^^^^^^^^^^^^^^\n        self._executor.do_inference(self._inference_method(), json_data), timeout=timeout\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/opt/anaconda3/lib/python3.13/asyncio/tasks.py\", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/ipc/job_proc_lazy_main.py\", line 140, in do_inference\n    raise RuntimeError(f\"inference of {method} failed: {inf_resp.error}\")\nRuntimeError: inference of lk_end_of_utterance_multilingual failed: inference of lk_end_of_utterance_multilingual failed: '_EUORunnerMultilingual' object has no attribute '_tokenizer'", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:42:54.062785+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "EOU metrics", "room": "voice_assistant_room_4404", "model_name": "multilingual", "model_provider": "livekit", "end_of_utterance_delay": 0.56, "transcription_delay": 0.0, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:42:54.065882+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.05, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:42:54.763486+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "LLM metrics", "room": "voice_assistant_room_4404", "model_name": "gemini-2.5-flash", "model_provider": "Gemini", "ttft": 1.2, "prompt_tokens": 1026, "prompt_cached_tokens": 0, "completion_tokens": 40, "tokens_per_second": 26.22, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:42:55.593314+00:00"}
error running inference
Traceback (most recent call last):
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/ipc/inference_proc_lazy_main.py", line 103, in _handle_inference_request
    data = await loop.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self._executor, self._runners[msg.method].run, msg.data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/anaconda3/lib/python3.13/concurrent/futures/thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py", line 159, in run
    text = self._format_chat_ctx(chat_ctx)
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py", line 86, in _format_chat_ctx
    convo_text = self._tokenizer.apply_chat_template(
                 ^^^^^^^^^^^^^^^
AttributeError: '_EUORunnerMultilingual' object has no attribute '_tokenizer'
{"level": "ERROR", "name": "livekit.agents", "message": "Error predicting end of turn\nTraceback (most recent call last):\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/voice/audio_recognition.py\", line 535, in _bounce_eou_task\n    end_of_turn_probability = await turn_detector.predict_end_of_turn(\n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        chat_ctx\n        ^^^^^^^^\n    )\n    ^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/multilingual.py\", line 70, in predict_end_of_turn\n    return await super().predict_end_of_turn(chat_ctx, timeout=timeout)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py\", line 288, in predict_end_of_turn\n    result = await asyncio.wait_for(\n             ^^^^^^^^^^^^^^^^^^^^^^^\n        self._executor.do_inference(self._inference_method(), json_data), timeout=timeout\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/opt/anaconda3/lib/python3.13/asyncio/tasks.py\", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/ipc/job_proc_lazy_main.py\", line 140, in do_inference\n    raise RuntimeError(f\"inference of {method} failed: {inf_resp.error}\")\nRuntimeError: inference of lk_end_of_utterance_multilingual failed: inference of lk_end_of_utterance_multilingual failed: '_EUORunnerMultilingual' object has no attribute '_tokenizer'", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:42:58.310594+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "EOU metrics", "room": "voice_assistant_room_4404", "model_name": "multilingual", "model_provider": "livekit", "end_of_utterance_delay": 0.55, "transcription_delay": 0.0, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:42:58.313602+00:00"}
error running inference
Traceback (most recent call last):
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/ipc/inference_proc_lazy_main.py", line 103, in _handle_inference_request
    data = await loop.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self._executor, self._runners[msg.method].run, msg.data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/anaconda3/lib/python3.13/concurrent/futures/thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py", line 159, in run
    text = self._format_chat_ctx(chat_ctx)
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py", line 86, in _format_chat_ctx
    convo_text = self._tokenizer.apply_chat_template(
                 ^^^^^^^^^^^^^^^
AttributeError: '_EUORunnerMultilingual' object has no attribute '_tokenizer'
{"level": "ERROR", "name": "livekit.agents", "message": "Error predicting end of turn\nTraceback (most recent call last):\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/voice/audio_recognition.py\", line 535, in _bounce_eou_task\n    end_of_turn_probability = await turn_detector.predict_end_of_turn(\n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        chat_ctx\n        ^^^^^^^^\n    )\n    ^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/multilingual.py\", line 70, in predict_end_of_turn\n    return await super().predict_end_of_turn(chat_ctx, timeout=timeout)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py\", line 288, in predict_end_of_turn\n    result = await asyncio.wait_for(\n             ^^^^^^^^^^^^^^^^^^^^^^^\n        self._executor.do_inference(self._inference_method(), json_data), timeout=timeout\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/opt/anaconda3/lib/python3.13/asyncio/tasks.py\", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/ipc/job_proc_lazy_main.py\", line 140, in do_inference\n    raise RuntimeError(f\"inference of {method} failed: {inf_resp.error}\")\nRuntimeError: inference of lk_end_of_utterance_multilingual failed: inference of lk_end_of_utterance_multilingual failed: '_EUORunnerMultilingual' object has no attribute '_tokenizer'", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:42:58.455448+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.05, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:42:59.805983+00:00"}
error running inference
Traceback (most recent call last):
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/ipc/inference_proc_lazy_main.py", line 103, in _handle_inference_request
    data = await loop.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self._executor, self._runners[msg.method].run, msg.data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/anaconda3/lib/python3.13/concurrent/futures/thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py", line 159, in run
    text = self._format_chat_ctx(chat_ctx)
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py", line 86, in _format_chat_ctx
    convo_text = self._tokenizer.apply_chat_template(
                 ^^^^^^^^^^^^^^^
AttributeError: '_EUORunnerMultilingual' object has no attribute '_tokenizer'
{"level": "ERROR", "name": "livekit.agents", "message": "Error predicting end of turn\nTraceback (most recent call last):\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/voice/audio_recognition.py\", line 535, in _bounce_eou_task\n    end_of_turn_probability = await turn_detector.predict_end_of_turn(\n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        chat_ctx\n        ^^^^^^^^\n    )\n    ^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/multilingual.py\", line 70, in predict_end_of_turn\n    return await super().predict_end_of_turn(chat_ctx, timeout=timeout)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py\", line 288, in predict_end_of_turn\n    result = await asyncio.wait_for(\n             ^^^^^^^^^^^^^^^^^^^^^^^\n        self._executor.do_inference(self._inference_method(), json_data), timeout=timeout\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/opt/anaconda3/lib/python3.13/asyncio/tasks.py\", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/ipc/job_proc_lazy_main.py\", line 140, in do_inference\n    raise RuntimeError(f\"inference of {method} failed: {inf_resp.error}\")\nRuntimeError: inference of lk_end_of_utterance_multilingual failed: inference of lk_end_of_utterance_multilingual failed: '_EUORunnerMultilingual' object has no attribute '_tokenizer'", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:43:02.361913+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "EOU metrics", "room": "voice_assistant_room_4404", "model_name": "multilingual", "model_provider": "livekit", "end_of_utterance_delay": 0.55, "transcription_delay": 0.0, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:43:02.364055+00:00"}
error running inference
Traceback (most recent call last):
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/ipc/inference_proc_lazy_main.py", line 103, in _handle_inference_request
    data = await loop.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self._executor, self._runners[msg.method].run, msg.data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/anaconda3/lib/python3.13/concurrent/futures/thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py", line 159, in run
    text = self._format_chat_ctx(chat_ctx)
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py", line 86, in _format_chat_ctx
    convo_text = self._tokenizer.apply_chat_template(
                 ^^^^^^^^^^^^^^^
AttributeError: '_EUORunnerMultilingual' object has no attribute '_tokenizer'
{"level": "ERROR", "name": "livekit.agents", "message": "Error predicting end of turn\nTraceback (most recent call last):\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/voice/audio_recognition.py\", line 535, in _bounce_eou_task\n    end_of_turn_probability = await turn_detector.predict_end_of_turn(\n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        chat_ctx\n        ^^^^^^^^\n    )\n    ^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/multilingual.py\", line 70, in predict_end_of_turn\n    return await super().predict_end_of_turn(chat_ctx, timeout=timeout)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py\", line 288, in predict_end_of_turn\n    result = await asyncio.wait_for(\n             ^^^^^^^^^^^^^^^^^^^^^^^\n        self._executor.do_inference(self._inference_method(), json_data), timeout=timeout\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/opt/anaconda3/lib/python3.13/asyncio/tasks.py\", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/ipc/job_proc_lazy_main.py\", line 140, in do_inference\n    raise RuntimeError(f\"inference of {method} failed: {inf_resp.error}\")\nRuntimeError: inference of lk_end_of_utterance_multilingual failed: inference of lk_end_of_utterance_multilingual failed: '_EUORunnerMultilingual' object has no attribute '_tokenizer'", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:43:02.857062+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "EOU metrics", "room": "voice_assistant_room_4404", "model_name": "multilingual", "model_provider": "livekit", "end_of_utterance_delay": 0.0, "transcription_delay": 0.0, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:43:03.359848+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.0, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:43:04.806612+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "LLM metrics", "room": "voice_assistant_room_4404", "model_name": "gemini-2.5-flash", "model_provider": "Gemini", "ttft": 3.07, "prompt_tokens": 1056, "prompt_cached_tokens": 0, "completion_tokens": 88, "tokens_per_second": 27.1, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:43:06.609274+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.0, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:43:09.807903+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.05, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:43:14.856119+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.05, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:43:19.905861+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.05, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:43:24.956048+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.05, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:43:30.007593+00:00"}
error running inference
Traceback (most recent call last):
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/ipc/inference_proc_lazy_main.py", line 103, in _handle_inference_request
    data = await loop.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self._executor, self._runners[msg.method].run, msg.data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/anaconda3/lib/python3.13/concurrent/futures/thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py", line 159, in run
    text = self._format_chat_ctx(chat_ctx)
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py", line 86, in _format_chat_ctx
    convo_text = self._tokenizer.apply_chat_template(
                 ^^^^^^^^^^^^^^^
AttributeError: '_EUORunnerMultilingual' object has no attribute '_tokenizer'
{"level": "ERROR", "name": "livekit.agents", "message": "Error predicting end of turn\nTraceback (most recent call last):\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/voice/audio_recognition.py\", line 535, in _bounce_eou_task\n    end_of_turn_probability = await turn_detector.predict_end_of_turn(\n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        chat_ctx\n        ^^^^^^^^\n    )\n    ^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/multilingual.py\", line 70, in predict_end_of_turn\n    return await super().predict_end_of_turn(chat_ctx, timeout=timeout)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py\", line 288, in predict_end_of_turn\n    result = await asyncio.wait_for(\n             ^^^^^^^^^^^^^^^^^^^^^^^\n        self._executor.do_inference(self._inference_method(), json_data), timeout=timeout\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/opt/anaconda3/lib/python3.13/asyncio/tasks.py\", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/ipc/job_proc_lazy_main.py\", line 140, in do_inference\n    raise RuntimeError(f\"inference of {method} failed: {inf_resp.error}\")\nRuntimeError: inference of lk_end_of_utterance_multilingual failed: inference of lk_end_of_utterance_multilingual failed: '_EUORunnerMultilingual' object has no attribute '_tokenizer'", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:43:32.912453+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "EOU metrics", "room": "voice_assistant_room_4404", "model_name": "multilingual", "model_provider": "livekit", "end_of_utterance_delay": 2.7, "transcription_delay": 2.69, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:43:32.920897+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.05, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:43:35.055635+00:00"}
error running inference
Traceback (most recent call last):
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/ipc/inference_proc_lazy_main.py", line 103, in _handle_inference_request
    data = await loop.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self._executor, self._runners[msg.method].run, msg.data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/anaconda3/lib/python3.13/concurrent/futures/thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py", line 159, in run
    text = self._format_chat_ctx(chat_ctx)
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py", line 86, in _format_chat_ctx
    convo_text = self._tokenizer.apply_chat_template(
                 ^^^^^^^^^^^^^^^
AttributeError: '_EUORunnerMultilingual' object has no attribute '_tokenizer'
{"level": "ERROR", "name": "livekit.agents", "message": "Error predicting end of turn\nTraceback (most recent call last):\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/voice/audio_recognition.py\", line 535, in _bounce_eou_task\n    end_of_turn_probability = await turn_detector.predict_end_of_turn(\n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        chat_ctx\n        ^^^^^^^^\n    )\n    ^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/multilingual.py\", line 70, in predict_end_of_turn\n    return await super().predict_end_of_turn(chat_ctx, timeout=timeout)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py\", line 288, in predict_end_of_turn\n    result = await asyncio.wait_for(\n             ^^^^^^^^^^^^^^^^^^^^^^^\n        self._executor.do_inference(self._inference_method(), json_data), timeout=timeout\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/opt/anaconda3/lib/python3.13/asyncio/tasks.py\", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/ipc/job_proc_lazy_main.py\", line 140, in do_inference\n    raise RuntimeError(f\"inference of {method} failed: {inf_resp.error}\")\nRuntimeError: inference of lk_end_of_utterance_multilingual failed: inference of lk_end_of_utterance_multilingual failed: '_EUORunnerMultilingual' object has no attribute '_tokenizer'", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:43:35.800004+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "LLM metrics", "room": "voice_assistant_room_4404", "model_name": "gemini-2.5-flash", "model_provider": "Gemini", "ttft": 2.87, "prompt_tokens": 1134, "prompt_cached_tokens": 0, "completion_tokens": 98, "tokens_per_second": 34.03, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:43:35.802635+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "EOU metrics", "room": "voice_assistant_room_4404", "model_name": "multilingual", "model_provider": "livekit", "end_of_utterance_delay": 0.9, "transcription_delay": 0.89, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:43:35.806751+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.0, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:43:40.057130+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "LLM metrics", "room": "voice_assistant_room_4404", "model_name": "gemini-2.5-flash", "model_provider": "Gemini", "ttft": 2.78, "prompt_tokens": 1140, "prompt_cached_tokens": 692, "completion_tokens": 205, "tokens_per_second": 46.38, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:43:40.228155+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.05, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:43:45.106957+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.05, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:43:50.156727+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.05, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:43:55.205671+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.0, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:44:00.206151+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.0, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:44:05.208002+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.0, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:44:10.209085+00:00"}
error running inference
Traceback (most recent call last):
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/ipc/inference_proc_lazy_main.py", line 103, in _handle_inference_request
    data = await loop.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self._executor, self._runners[msg.method].run, msg.data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/anaconda3/lib/python3.13/concurrent/futures/thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py", line 159, in run
    text = self._format_chat_ctx(chat_ctx)
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py", line 86, in _format_chat_ctx
    convo_text = self._tokenizer.apply_chat_template(
                 ^^^^^^^^^^^^^^^
AttributeError: '_EUORunnerMultilingual' object has no attribute '_tokenizer'
{"level": "ERROR", "name": "livekit.agents", "message": "Error predicting end of turn\nTraceback (most recent call last):\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/voice/audio_recognition.py\", line 535, in _bounce_eou_task\n    end_of_turn_probability = await turn_detector.predict_end_of_turn(\n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        chat_ctx\n        ^^^^^^^^\n    )\n    ^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/multilingual.py\", line 70, in predict_end_of_turn\n    return await super().predict_end_of_turn(chat_ctx, timeout=timeout)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py\", line 288, in predict_end_of_turn\n    result = await asyncio.wait_for(\n             ^^^^^^^^^^^^^^^^^^^^^^^\n        self._executor.do_inference(self._inference_method(), json_data), timeout=timeout\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/opt/anaconda3/lib/python3.13/asyncio/tasks.py\", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/ipc/job_proc_lazy_main.py\", line 140, in do_inference\n    raise RuntimeError(f\"inference of {method} failed: {inf_resp.error}\")\nRuntimeError: inference of lk_end_of_utterance_multilingual failed: inference of lk_end_of_utterance_multilingual failed: '_EUORunnerMultilingual' object has no attribute '_tokenizer'", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:44:11.122170+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.resume called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:44:11.127152+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "EOU metrics", "room": "voice_assistant_room_4404", "model_name": "multilingual", "model_provider": "livekit", "end_of_utterance_delay": 0.72, "transcription_delay": 0.71, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:44:11.128552+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "LLM metrics", "room": "voice_assistant_room_4404", "model_name": "gemini-2.5-flash", "model_provider": "Gemini", "ttft": 2.92, "prompt_tokens": 1230, "prompt_cached_tokens": 751, "completion_tokens": 111, "tokens_per_second": 30.96, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:44:14.716921+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.0, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:44:15.209644+00:00"}
error running inference
Traceback (most recent call last):
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/ipc/inference_proc_lazy_main.py", line 103, in _handle_inference_request
    data = await loop.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self._executor, self._runners[msg.method].run, msg.data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/anaconda3/lib/python3.13/concurrent/futures/thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py", line 159, in run
    text = self._format_chat_ctx(chat_ctx)
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py", line 86, in _format_chat_ctx
    convo_text = self._tokenizer.apply_chat_template(
                 ^^^^^^^^^^^^^^^
AttributeError: '_EUORunnerMultilingual' object has no attribute '_tokenizer'
{"level": "ERROR", "name": "livekit.agents", "message": "Error predicting end of turn\nTraceback (most recent call last):\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/voice/audio_recognition.py\", line 535, in _bounce_eou_task\n    end_of_turn_probability = await turn_detector.predict_end_of_turn(\n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        chat_ctx\n        ^^^^^^^^\n    )\n    ^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/multilingual.py\", line 70, in predict_end_of_turn\n    return await super().predict_end_of_turn(chat_ctx, timeout=timeout)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py\", line 288, in predict_end_of_turn\n    result = await asyncio.wait_for(\n             ^^^^^^^^^^^^^^^^^^^^^^^\n        self._executor.do_inference(self._inference_method(), json_data), timeout=timeout\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/opt/anaconda3/lib/python3.13/asyncio/tasks.py\", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/ipc/job_proc_lazy_main.py\", line 140, in do_inference\n    raise RuntimeError(f\"inference of {method} failed: {inf_resp.error}\")\nRuntimeError: inference of lk_end_of_utterance_multilingual failed: inference of lk_end_of_utterance_multilingual failed: '_EUORunnerMultilingual' object has no attribute '_tokenizer'", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:44:17.011893+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "EOU metrics", "room": "voice_assistant_room_4404", "model_name": "multilingual", "model_provider": "livekit", "end_of_utterance_delay": 0.75, "transcription_delay": 0.73, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:44:17.018966+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "LLM metrics", "room": "voice_assistant_room_4404", "model_name": "gemini-2.5-flash", "model_provider": "Gemini", "ttft": 2.31, "prompt_tokens": 1238, "prompt_cached_tokens": 752, "completion_tokens": 44, "tokens_per_second": 19.01, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:44:19.335188+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.05, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:44:20.260753+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "TTS metrics", "room": "voice_assistant_room_4404", "model_name": "aura-helios-en", "model_provider": "Deepgram", "ttfb": 0.6503925839997464, "audio_duration": 10.67, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:44:22.485346+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.05, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:44:25.308351+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.0, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:44:30.310235+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.05, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:44:35.360671+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.05, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:44:40.411953+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.05, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:44:45.462842+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "LLM metrics", "room": "voice_assistant_room_4404", "model_name": "gemini-2.5-flash", "model_provider": "Gemini", "ttft": 2.93, "prompt_tokens": 1309, "prompt_cached_tokens": 760, "completion_tokens": 98, "tokens_per_second": 30.49, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:44:49.357606+00:00"}
error running inference
Traceback (most recent call last):
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/ipc/inference_proc_lazy_main.py", line 103, in _handle_inference_request
    data = await loop.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self._executor, self._runners[msg.method].run, msg.data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/anaconda3/lib/python3.13/concurrent/futures/thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py", line 159, in run
    text = self._format_chat_ctx(chat_ctx)
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py", line 86, in _format_chat_ctx
    convo_text = self._tokenizer.apply_chat_template(
                 ^^^^^^^^^^^^^^^
AttributeError: '_EUORunnerMultilingual' object has no attribute '_tokenizer'
{"level": "ERROR", "name": "livekit.agents", "message": "Error predicting end of turn\nTraceback (most recent call last):\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/voice/audio_recognition.py\", line 535, in _bounce_eou_task\n    end_of_turn_probability = await turn_detector.predict_end_of_turn(\n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        chat_ctx\n        ^^^^^^^^\n    )\n    ^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/multilingual.py\", line 70, in predict_end_of_turn\n    return await super().predict_end_of_turn(chat_ctx, timeout=timeout)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py\", line 288, in predict_end_of_turn\n    result = await asyncio.wait_for(\n             ^^^^^^^^^^^^^^^^^^^^^^^\n        self._executor.do_inference(self._inference_method(), json_data), timeout=timeout\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/opt/anaconda3/lib/python3.13/asyncio/tasks.py\", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/ipc/job_proc_lazy_main.py\", line 140, in do_inference\n    raise RuntimeError(f\"inference of {method} failed: {inf_resp.error}\")\nRuntimeError: inference of lk_end_of_utterance_multilingual failed: inference of lk_end_of_utterance_multilingual failed: '_EUORunnerMultilingual' object has no attribute '_tokenizer'", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:44:49.366720+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "EOU metrics", "room": "voice_assistant_room_4404", "model_name": "multilingual", "model_provider": "livekit", "end_of_utterance_delay": 0.55, "transcription_delay": 0.0, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:44:49.368824+00:00"}
error running inference
Traceback (most recent call last):
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/ipc/inference_proc_lazy_main.py", line 103, in _handle_inference_request
    data = await loop.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self._executor, self._runners[msg.method].run, msg.data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/anaconda3/lib/python3.13/concurrent/futures/thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py", line 159, in run
    text = self._format_chat_ctx(chat_ctx)
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py", line 86, in _format_chat_ctx
    convo_text = self._tokenizer.apply_chat_template(
                 ^^^^^^^^^^^^^^^
AttributeError: '_EUORunnerMultilingual' object has no attribute '_tokenizer'
{"level": "ERROR", "name": "livekit.agents", "message": "Error predicting end of turn\nTraceback (most recent call last):\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/voice/audio_recognition.py\", line 535, in _bounce_eou_task\n    end_of_turn_probability = await turn_detector.predict_end_of_turn(\n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        chat_ctx\n        ^^^^^^^^\n    )\n    ^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/multilingual.py\", line 70, in predict_end_of_turn\n    return await super().predict_end_of_turn(chat_ctx, timeout=timeout)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py\", line 288, in predict_end_of_turn\n    result = await asyncio.wait_for(\n             ^^^^^^^^^^^^^^^^^^^^^^^\n        self._executor.do_inference(self._inference_method(), json_data), timeout=timeout\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/opt/anaconda3/lib/python3.13/asyncio/tasks.py\", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/ipc/job_proc_lazy_main.py\", line 140, in do_inference\n    raise RuntimeError(f\"inference of {method} failed: {inf_resp.error}\")\nRuntimeError: inference of lk_end_of_utterance_multilingual failed: inference of lk_end_of_utterance_multilingual failed: '_EUORunnerMultilingual' object has no attribute '_tokenizer'", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:44:49.582534+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "EOU metrics", "room": "voice_assistant_room_4404", "model_name": "multilingual", "model_provider": "livekit", "end_of_utterance_delay": 0.0, "transcription_delay": 0.0, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:44:50.087063+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.0, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:44:50.464071+00:00"}
error running inference
Traceback (most recent call last):
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/ipc/inference_proc_lazy_main.py", line 103, in _handle_inference_request
    data = await loop.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self._executor, self._runners[msg.method].run, msg.data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/anaconda3/lib/python3.13/concurrent/futures/thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py", line 159, in run
    text = self._format_chat_ctx(chat_ctx)
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py", line 86, in _format_chat_ctx
    convo_text = self._tokenizer.apply_chat_template(
                 ^^^^^^^^^^^^^^^
AttributeError: '_EUORunnerMultilingual' object has no attribute '_tokenizer'
{"level": "INFO", "name": "livekit.agents", "message": "LLM metrics", "room": "voice_assistant_room_4404", "model_name": "gemini-2.5-flash", "model_provider": "Gemini", "ttft": 2.43, "prompt_tokens": 1315, "prompt_cached_tokens": 761, "completion_tokens": 50, "tokens_per_second": 19.94, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:44:52.596407+00:00"}
{"level": "ERROR", "name": "livekit.agents", "message": "Error predicting end of turn\nTraceback (most recent call last):\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/voice/audio_recognition.py\", line 535, in _bounce_eou_task\n    end_of_turn_probability = await turn_detector.predict_end_of_turn(\n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        chat_ctx\n        ^^^^^^^^\n    )\n    ^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/multilingual.py\", line 70, in predict_end_of_turn\n    return await super().predict_end_of_turn(chat_ctx, timeout=timeout)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py\", line 288, in predict_end_of_turn\n    result = await asyncio.wait_for(\n             ^^^^^^^^^^^^^^^^^^^^^^^\n        self._executor.do_inference(self._inference_method(), json_data), timeout=timeout\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/opt/anaconda3/lib/python3.13/asyncio/tasks.py\", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/ipc/job_proc_lazy_main.py\", line 140, in do_inference\n    raise RuntimeError(f\"inference of {method} failed: {inf_resp.error}\")\nRuntimeError: inference of lk_end_of_utterance_multilingual failed: inference of lk_end_of_utterance_multilingual failed: '_EUORunnerMultilingual' object has no attribute '_tokenizer'", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:44:52.597417+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "EOU metrics", "room": "voice_assistant_room_4404", "model_name": "multilingual", "model_provider": "livekit", "end_of_utterance_delay": 0.68, "transcription_delay": 0.68, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:44:52.603278+00:00"}
error running inference
Traceback (most recent call last):
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/ipc/inference_proc_lazy_main.py", line 103, in _handle_inference_request
    data = await loop.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self._executor, self._runners[msg.method].run, msg.data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/anaconda3/lib/python3.13/concurrent/futures/thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py", line 159, in run
    text = self._format_chat_ctx(chat_ctx)
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py", line 86, in _format_chat_ctx
    convo_text = self._tokenizer.apply_chat_template(
                 ^^^^^^^^^^^^^^^
AttributeError: '_EUORunnerMultilingual' object has no attribute '_tokenizer'
{"level": "INFO", "name": "livekit.agents", "message": "LLM metrics", "room": "voice_assistant_room_4404", "model_name": "gemini-2.5-flash", "model_provider": "Gemini", "ttft": 1.89, "prompt_tokens": 1317, "prompt_cached_tokens": 761, "completion_tokens": 70, "tokens_per_second": 34.1, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:44:54.658612+00:00"}
{"level": "ERROR", "name": "livekit.agents", "message": "Error predicting end of turn\nTraceback (most recent call last):\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/voice/audio_recognition.py\", line 535, in _bounce_eou_task\n    end_of_turn_probability = await turn_detector.predict_end_of_turn(\n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        chat_ctx\n        ^^^^^^^^\n    )\n    ^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/multilingual.py\", line 70, in predict_end_of_turn\n    return await super().predict_end_of_turn(chat_ctx, timeout=timeout)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py\", line 288, in predict_end_of_turn\n    result = await asyncio.wait_for(\n             ^^^^^^^^^^^^^^^^^^^^^^^\n        self._executor.do_inference(self._inference_method(), json_data), timeout=timeout\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/opt/anaconda3/lib/python3.13/asyncio/tasks.py\", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/ipc/job_proc_lazy_main.py\", line 140, in do_inference\n    raise RuntimeError(f\"inference of {method} failed: {inf_resp.error}\")\nRuntimeError: inference of lk_end_of_utterance_multilingual failed: inference of lk_end_of_utterance_multilingual failed: '_EUORunnerMultilingual' object has no attribute '_tokenizer'", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:44:54.659790+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "EOU metrics", "room": "voice_assistant_room_4404", "model_name": "multilingual", "model_provider": "livekit", "end_of_utterance_delay": 1.05, "transcription_delay": 1.04, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:44:54.667464+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.05, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:44:55.512428+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "LLM metrics", "room": "voice_assistant_room_4404", "model_name": "gemini-2.5-flash", "model_provider": "Gemini", "ttft": 2.82, "prompt_tokens": 1319, "prompt_cached_tokens": 761, "completion_tokens": 155, "tokens_per_second": 45.27, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:44:58.094985+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.0, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:45:00.516076+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "TTS metrics", "room": "voice_assistant_room_4404", "model_name": "aura-helios-en", "model_provider": "Deepgram", "ttfb": 0.662838166000256, "audio_duration": 40.44, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:45:01.174657+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.05, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:45:05.562741+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.05, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:45:10.613099+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.0, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:45:15.614006+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.05, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:45:20.663263+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.0, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:45:25.664299+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.05, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:45:30.712626+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.0, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:45:35.714541+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.05, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:45:40.762720+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.0, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:45:45.764614+00:00"}
error running inference
Traceback (most recent call last):
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/ipc/inference_proc_lazy_main.py", line 103, in _handle_inference_request
    data = await loop.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self._executor, self._runners[msg.method].run, msg.data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/anaconda3/lib/python3.13/concurrent/futures/thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py", line 159, in run
    text = self._format_chat_ctx(chat_ctx)
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py", line 86, in _format_chat_ctx
    convo_text = self._tokenizer.apply_chat_template(
                 ^^^^^^^^^^^^^^^
AttributeError: '_EUORunnerMultilingual' object has no attribute '_tokenizer'
{"level": "ERROR", "name": "livekit.agents", "message": "Error predicting end of turn\nTraceback (most recent call last):\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/voice/audio_recognition.py\", line 535, in _bounce_eou_task\n    end_of_turn_probability = await turn_detector.predict_end_of_turn(\n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        chat_ctx\n        ^^^^^^^^\n    )\n    ^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/multilingual.py\", line 70, in predict_end_of_turn\n    return await super().predict_end_of_turn(chat_ctx, timeout=timeout)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py\", line 288, in predict_end_of_turn\n    result = await asyncio.wait_for(\n             ^^^^^^^^^^^^^^^^^^^^^^^\n        self._executor.do_inference(self._inference_method(), json_data), timeout=timeout\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/opt/anaconda3/lib/python3.13/asyncio/tasks.py\", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/ipc/job_proc_lazy_main.py\", line 140, in do_inference\n    raise RuntimeError(f\"inference of {method} failed: {inf_resp.error}\")\nRuntimeError: inference of lk_end_of_utterance_multilingual failed: inference of lk_end_of_utterance_multilingual failed: '_EUORunnerMultilingual' object has no attribute '_tokenizer'", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:45:48.967715+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "EOU metrics", "room": "voice_assistant_room_4404", "model_name": "multilingual", "model_provider": "livekit", "end_of_utterance_delay": 0.55, "transcription_delay": 0.0, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:45:48.970546+00:00"}
error running inference
Traceback (most recent call last):
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/ipc/inference_proc_lazy_main.py", line 103, in _handle_inference_request
    data = await loop.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self._executor, self._runners[msg.method].run, msg.data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/anaconda3/lib/python3.13/concurrent/futures/thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py", line 159, in run
    text = self._format_chat_ctx(chat_ctx)
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py", line 86, in _format_chat_ctx
    convo_text = self._tokenizer.apply_chat_template(
                 ^^^^^^^^^^^^^^^
AttributeError: '_EUORunnerMultilingual' object has no attribute '_tokenizer'
{"level": "ERROR", "name": "livekit.agents", "message": "Error predicting end of turn\nTraceback (most recent call last):\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/voice/audio_recognition.py\", line 535, in _bounce_eou_task\n    end_of_turn_probability = await turn_detector.predict_end_of_turn(\n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        chat_ctx\n        ^^^^^^^^\n    )\n    ^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/multilingual.py\", line 70, in predict_end_of_turn\n    return await super().predict_end_of_turn(chat_ctx, timeout=timeout)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py\", line 288, in predict_end_of_turn\n    result = await asyncio.wait_for(\n             ^^^^^^^^^^^^^^^^^^^^^^^\n        self._executor.do_inference(self._inference_method(), json_data), timeout=timeout\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/opt/anaconda3/lib/python3.13/asyncio/tasks.py\", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/ipc/job_proc_lazy_main.py\", line 140, in do_inference\n    raise RuntimeError(f\"inference of {method} failed: {inf_resp.error}\")\nRuntimeError: inference of lk_end_of_utterance_multilingual failed: inference of lk_end_of_utterance_multilingual failed: '_EUORunnerMultilingual' object has no attribute '_tokenizer'", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:45:49.081592+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "EOU metrics", "room": "voice_assistant_room_4404", "model_name": "multilingual", "model_provider": "livekit", "end_of_utterance_delay": 0.0, "transcription_delay": 0.0, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:45:49.586082+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.05, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:45:50.813039+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "LLM metrics", "room": "voice_assistant_room_4404", "model_name": "gemini-2.5-flash", "model_provider": "Gemini", "ttft": 3.7, "prompt_tokens": 1495, "prompt_cached_tokens": 782, "completion_tokens": 151, "tokens_per_second": 36.83, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:45:53.688640+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.0, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:45:55.817777+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "TTS metrics", "room": "voice_assistant_room_4404", "model_name": "aura-helios-en", "model_provider": "Deepgram", "ttfb": 0.6790752500000963, "audio_duration": 34.06, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:45:57.120724+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.05, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:46:00.864431+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.05, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:46:05.914723+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.05, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:46:10.964326+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.0, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:46:15.964441+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.05, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:46:21.013495+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.0, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:46:26.014966+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.05, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:46:31.065794+00:00"}
error running inference
Traceback (most recent call last):
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/ipc/inference_proc_lazy_main.py", line 103, in _handle_inference_request
    data = await loop.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self._executor, self._runners[msg.method].run, msg.data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/anaconda3/lib/python3.13/concurrent/futures/thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py", line 159, in run
    text = self._format_chat_ctx(chat_ctx)
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py", line 86, in _format_chat_ctx
    convo_text = self._tokenizer.apply_chat_template(
                 ^^^^^^^^^^^^^^^
AttributeError: '_EUORunnerMultilingual' object has no attribute '_tokenizer'
{"level": "ERROR", "name": "livekit.agents", "message": "Error predicting end of turn\nTraceback (most recent call last):\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/voice/audio_recognition.py\", line 535, in _bounce_eou_task\n    end_of_turn_probability = await turn_detector.predict_end_of_turn(\n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        chat_ctx\n        ^^^^^^^^\n    )\n    ^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/multilingual.py\", line 70, in predict_end_of_turn\n    return await super().predict_end_of_turn(chat_ctx, timeout=timeout)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py\", line 288, in predict_end_of_turn\n    result = await asyncio.wait_for(\n             ^^^^^^^^^^^^^^^^^^^^^^^\n        self._executor.do_inference(self._inference_method(), json_data), timeout=timeout\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/opt/anaconda3/lib/python3.13/asyncio/tasks.py\", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/ipc/job_proc_lazy_main.py\", line 140, in do_inference\n    raise RuntimeError(f\"inference of {method} failed: {inf_resp.error}\")\nRuntimeError: inference of lk_end_of_utterance_multilingual failed: inference of lk_end_of_utterance_multilingual failed: '_EUORunnerMultilingual' object has no attribute '_tokenizer'", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:46:33.032266+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "EOU metrics", "room": "voice_assistant_room_4404", "model_name": "multilingual", "model_provider": "livekit", "end_of_utterance_delay": 0.62, "transcription_delay": 0.6, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:46:33.034839+00:00"}
error running inference
Traceback (most recent call last):
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/ipc/inference_proc_lazy_main.py", line 103, in _handle_inference_request
    data = await loop.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self._executor, self._runners[msg.method].run, msg.data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/anaconda3/lib/python3.13/concurrent/futures/thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py", line 159, in run
    text = self._format_chat_ctx(chat_ctx)
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py", line 86, in _format_chat_ctx
    convo_text = self._tokenizer.apply_chat_template(
                 ^^^^^^^^^^^^^^^
AttributeError: '_EUORunnerMultilingual' object has no attribute '_tokenizer'
{"level": "ERROR", "name": "livekit.agents", "message": "Error predicting end of turn\nTraceback (most recent call last):\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/voice/audio_recognition.py\", line 535, in _bounce_eou_task\n    end_of_turn_probability = await turn_detector.predict_end_of_turn(\n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        chat_ctx\n        ^^^^^^^^\n    )\n    ^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/multilingual.py\", line 70, in predict_end_of_turn\n    return await super().predict_end_of_turn(chat_ctx, timeout=timeout)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py\", line 288, in predict_end_of_turn\n    result = await asyncio.wait_for(\n             ^^^^^^^^^^^^^^^^^^^^^^^\n        self._executor.do_inference(self._inference_method(), json_data), timeout=timeout\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/opt/anaconda3/lib/python3.13/asyncio/tasks.py\", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/ipc/job_proc_lazy_main.py\", line 140, in do_inference\n    raise RuntimeError(f\"inference of {method} failed: {inf_resp.error}\")\nRuntimeError: inference of lk_end_of_utterance_multilingual failed: inference of lk_end_of_utterance_multilingual failed: '_EUORunnerMultilingual' object has no attribute '_tokenizer'", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:46:33.262290+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "EOU metrics", "room": "voice_assistant_room_4404", "model_name": "multilingual", "model_provider": "livekit", "end_of_utterance_delay": 0.0, "transcription_delay": 0.0, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:46:33.765566+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.05, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:46:36.114245+00:00"}
{"level": "INFO", "name": "agent", "message": "Lead saved: Priyanshuja from Blendtec", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:46:37.728925+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "LLM metrics", "room": "voice_assistant_room_4404", "model_name": "gemini-2.5-flash", "model_provider": "Gemini", "ttft": 3.23, "prompt_tokens": 1653, "prompt_cached_tokens": 1594, "completion_tokens": 208, "tokens_per_second": 49.22, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:46:37.995368+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "TTS metrics", "room": "voice_assistant_room_4404", "model_name": "aura-helios-en", "model_provider": "Deepgram", "ttfb": 0.6264705419998791, "audio_duration": 32.93, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:46:40.150038+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.05, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:46:41.164234+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.05, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:46:46.212953+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.0, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:46:51.214179+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.05, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:46:56.263753+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.0, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:01.263943+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.0, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:06.264886+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.05, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:11.314934+00:00"}
{"level": "WARNING", "name": "livekit", "message": "livekit::rtc_engine:470:livekit::rtc_engine - received session close: \"signal client closed: \\\"ping timeout\\\"\" UnknownReason Resume", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:12.983308+00:00"}
{"level": "ERROR", "name": "livekit", "message": "livekit::rtc_engine:766:livekit::rtc_engine - resuming connection... attempt: 0", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:12.985479+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.resume called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:14.633476+00:00"}
error running inference
Traceback (most recent call last):
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/ipc/inference_proc_lazy_main.py", line 103, in _handle_inference_request
    data = await loop.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self._executor, self._runners[msg.method].run, msg.data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/anaconda3/lib/python3.13/concurrent/futures/thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py", line 159, in run
    text = self._format_chat_ctx(chat_ctx)
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py", line 86, in _format_chat_ctx
    convo_text = self._tokenizer.apply_chat_template(
                 ^^^^^^^^^^^^^^^
AttributeError: '_EUORunnerMultilingual' object has no attribute '_tokenizer'
{"level": "ERROR", "name": "livekit.agents", "message": "Error predicting end of turn\nTraceback (most recent call last):\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/voice/audio_recognition.py\", line 535, in _bounce_eou_task\n    end_of_turn_probability = await turn_detector.predict_end_of_turn(\n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        chat_ctx\n        ^^^^^^^^\n    )\n    ^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/multilingual.py\", line 70, in predict_end_of_turn\n    return await super().predict_end_of_turn(chat_ctx, timeout=timeout)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py\", line 288, in predict_end_of_turn\n    result = await asyncio.wait_for(\n             ^^^^^^^^^^^^^^^^^^^^^^^\n        self._executor.do_inference(self._inference_method(), json_data), timeout=timeout\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/opt/anaconda3/lib/python3.13/asyncio/tasks.py\", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/ipc/job_proc_lazy_main.py\", line 140, in do_inference\n    raise RuntimeError(f\"inference of {method} failed: {inf_resp.error}\")\nRuntimeError: inference of lk_end_of_utterance_multilingual failed: inference of lk_end_of_utterance_multilingual failed: '_EUORunnerMultilingual' object has no attribute '_tokenizer'", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:14.634835+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "EOU metrics", "room": "voice_assistant_room_4404", "model_name": "multilingual", "model_provider": "livekit", "end_of_utterance_delay": 4.72, "transcription_delay": 4.72, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:14.637588+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.resume called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:14.652334+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.05, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:16.363232+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "LLM metrics", "room": "voice_assistant_room_4404", "model_name": "gemini-2.5-flash", "model_provider": "Gemini", "ttft": 3.72, "prompt_tokens": 1793, "prompt_cached_tokens": 1616, "completion_tokens": 22, "tokens_per_second": 5.91, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:18.359416+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "TTS metrics", "room": "voice_assistant_room_4404", "model_name": "aura-helios-en", "model_provider": "Deepgram", "ttfb": 0.781488999999965, "audio_duration": 4.53, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:20.330316+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.0, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:21.366466+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:22.667767+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:22.717398+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:22.764864+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:22.765840+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:22.816676+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:22.817310+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:22.865135+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:22.906542+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:22.915700+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:22.916648+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:22.968229+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:23.016722+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:23.017386+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:23.065547+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:23.115194+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:23.115864+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:23.167454+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:23.216372+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:23.217416+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:23.267034+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:23.268396+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:23.317294+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:23.365230+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:23.366012+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:23.417286+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:23.467958+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:23.468758+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:23.513561+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:23.566235+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:23.567299+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:23.616769+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:23.617473+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:23.664392+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:23.716629+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:23.717442+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:23.766022+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:23.815032+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:23.815706+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:23.867211+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:23.916727+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:23.917525+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:23.964941+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:24.016279+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:24.017435+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:24.025059+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:24.066467+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:24.067256+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:24.115158+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:24.163855+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:24.164917+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:24.426698+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.resume called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:24.429134+00:00"}
error running inference
Traceback (most recent call last):
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/ipc/inference_proc_lazy_main.py", line 103, in _handle_inference_request
    data = await loop.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self._executor, self._runners[msg.method].run, msg.data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/anaconda3/lib/python3.13/concurrent/futures/thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py", line 159, in run
    text = self._format_chat_ctx(chat_ctx)
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py", line 86, in _format_chat_ctx
    convo_text = self._tokenizer.apply_chat_template(
                 ^^^^^^^^^^^^^^^
AttributeError: '_EUORunnerMultilingual' object has no attribute '_tokenizer'
{"level": "ERROR", "name": "livekit.agents", "message": "Error predicting end of turn\nTraceback (most recent call last):\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/voice/audio_recognition.py\", line 535, in _bounce_eou_task\n    end_of_turn_probability = await turn_detector.predict_end_of_turn(\n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        chat_ctx\n        ^^^^^^^^\n    )\n    ^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/multilingual.py\", line 70, in predict_end_of_turn\n    return await super().predict_end_of_turn(chat_ctx, timeout=timeout)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py\", line 288, in predict_end_of_turn\n    result = await asyncio.wait_for(\n             ^^^^^^^^^^^^^^^^^^^^^^^\n        self._executor.do_inference(self._inference_method(), json_data), timeout=timeout\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/opt/anaconda3/lib/python3.13/asyncio/tasks.py\", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/ipc/job_proc_lazy_main.py\", line 140, in do_inference\n    raise RuntimeError(f\"inference of {method} failed: {inf_resp.error}\")\nRuntimeError: inference of lk_end_of_utterance_multilingual failed: inference of lk_end_of_utterance_multilingual failed: '_EUORunnerMultilingual' object has no attribute '_tokenizer'", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:24.430241+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "EOU metrics", "room": "voice_assistant_room_4404", "model_name": "multilingual", "model_provider": "livekit", "end_of_utterance_delay": 0.82, "transcription_delay": 0.81, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:24.433394+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.resume called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:24.446875+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.05, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:26.414876+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl text marked as ended in capture text, rotating segment", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:27.636308+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.end_text_input called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:27.640364+00:00"}
{"level": "INFO", "name": "agent", "message": "Lead saved: Priyanshuja from Blendtec", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:28.043114+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "LLM metrics", "room": "voice_assistant_room_4404", "model_name": "gemini-2.5-flash", "model_provider": "Gemini", "ttft": 3.2, "prompt_tokens": 1800, "prompt_cached_tokens": 1618, "completion_tokens": 201, "tokens_per_second": 54.16, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:28.147416+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl audio marked as ended in capture audio, rotating segment", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:28.352099+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.end_audio_input called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:28.353565+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.playback_finished called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:28.554018+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "TTS metrics", "room": "voice_assistant_room_4404", "model_name": "aura-helios-en", "model_provider": "Deepgram", "ttfb": 0.710976125000343, "audio_duration": 28.82, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:30.822587+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.resume called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:30.834776+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.05, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:31.461178+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl text marked as ended in capture text, rotating segment", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:32.345165+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.end_text_input called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:32.345549+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl audio marked as ended in capture audio, rotating segment", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:32.713237+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.end_audio_input called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:32.714446+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "LLM metrics", "room": "voice_assistant_room_4404", "model_name": "gemini-2.5-flash", "model_provider": "Gemini", "ttft": 1.52, "prompt_tokens": 1945, "prompt_cached_tokens": 1635, "completion_tokens": 53, "tokens_per_second": 27.61, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:32.748002+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:32.813190+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:32.814229+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:32.866417+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:32.867116+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.playback_finished called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:32.914681+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:32.915418+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:32.964085+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:32.964676+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:33.016651+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:33.067425+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:33.068017+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:33.114592+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:33.167226+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:33.168528+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:33.215425+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:33.216113+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:33.264542+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:33.317290+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:33.318081+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:33.365985+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:33.413477+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:33.413945+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.pause called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:33.465450+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "TTS metrics", "room": "voice_assistant_room_4404", "model_name": "aura-helios-en", "model_provider": "Deepgram", "ttfb": 0.3668927079997957, "audio_duration": 12.64, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:34.139118+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.0, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:36.462125+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.0, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:41.465910+00:00"}
error running inference
Traceback (most recent call last):
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/ipc/inference_proc_lazy_main.py", line 103, in _handle_inference_request
    data = await loop.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self._executor, self._runners[msg.method].run, msg.data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/anaconda3/lib/python3.13/concurrent/futures/thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py", line 159, in run
    text = self._format_chat_ctx(chat_ctx)
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py", line 86, in _format_chat_ctx
    convo_text = self._tokenizer.apply_chat_template(
                 ^^^^^^^^^^^^^^^
AttributeError: '_EUORunnerMultilingual' object has no attribute '_tokenizer'
{"level": "ERROR", "name": "livekit.agents", "message": "Error predicting end of turn\nTraceback (most recent call last):\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/voice/audio_recognition.py\", line 535, in _bounce_eou_task\n    end_of_turn_probability = await turn_detector.predict_end_of_turn(\n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        chat_ctx\n        ^^^^^^^^\n    )\n    ^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/multilingual.py\", line 70, in predict_end_of_turn\n    return await super().predict_end_of_turn(chat_ctx, timeout=timeout)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py\", line 288, in predict_end_of_turn\n    result = await asyncio.wait_for(\n             ^^^^^^^^^^^^^^^^^^^^^^^\n        self._executor.do_inference(self._inference_method(), json_data), timeout=timeout\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/opt/anaconda3/lib/python3.13/asyncio/tasks.py\", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/ipc/job_proc_lazy_main.py\", line 140, in do_inference\n    raise RuntimeError(f\"inference of {method} failed: {inf_resp.error}\")\nRuntimeError: inference of lk_end_of_utterance_multilingual failed: inference of lk_end_of_utterance_multilingual failed: '_EUORunnerMultilingual' object has no attribute '_tokenizer'", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:43.368116+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "EOU metrics", "room": "voice_assistant_room_4404", "model_name": "multilingual", "model_provider": "livekit", "end_of_utterance_delay": 0.9, "transcription_delay": 0.88, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:43.371265+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.resume called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:43.374198+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl text marked as ended in capture text, rotating segment", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:45.239903+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.end_text_input called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:45.240818+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "LLM metrics", "room": "voice_assistant_room_4404", "model_name": "gemini-2.5-flash", "model_provider": "Gemini", "ttft": 1.88, "prompt_tokens": 1954, "prompt_cached_tokens": 1632, "completion_tokens": 36, "tokens_per_second": 19.1, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:45.241345+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl audio marked as ended in capture audio, rotating segment", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:46.155853+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.end_audio_input called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:46.156785+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "_SegmentSynchronizerImpl.playback_finished called after close", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:46.357269+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.05, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:46.513938+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "TTS metrics", "room": "voice_assistant_room_4404", "model_name": "aura-helios-en", "model_provider": "Deepgram", "ttfb": 0.9142881670004499, "audio_duration": 7.88, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:47.850398+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "STT metrics", "room": "voice_assistant_room_4404", "model_name": "nova-3", "model_provider": "Deepgram", "audio_duration": 5.0, "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:51.515288+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "closing agent session due to participant disconnect (disable via `RoomInputOptions.close_on_disconnect=False`)", "room": "voice_assistant_room_4404", "participant": "voice_assistant_user_470", "reason": "CLIENT_INITIATED", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:52.305590+00:00"}
error running inference
Traceback (most recent call last):
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/ipc/inference_proc_lazy_main.py", line 103, in _handle_inference_request
    data = await loop.run_in_executor(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^
        self._executor, self._runners[msg.method].run, msg.data
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "/opt/anaconda3/lib/python3.13/concurrent/futures/thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py", line 159, in run
    text = self._format_chat_ctx(chat_ctx)
  File "/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py", line 86, in _format_chat_ctx
    convo_text = self._tokenizer.apply_chat_template(
                 ^^^^^^^^^^^^^^^
AttributeError: '_EUORunnerMultilingual' object has no attribute '_tokenizer'
{"level": "ERROR", "name": "livekit.agents", "message": "Error predicting end of turn\nTraceback (most recent call last):\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/voice/audio_recognition.py\", line 535, in _bounce_eou_task\n    end_of_turn_probability = await turn_detector.predict_end_of_turn(\n                              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        chat_ctx\n        ^^^^^^^^\n    )\n    ^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/multilingual.py\", line 70, in predict_end_of_turn\n    return await super().predict_end_of_turn(chat_ctx, timeout=timeout)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/plugins/turn_detector/base.py\", line 288, in predict_end_of_turn\n    result = await asyncio.wait_for(\n             ^^^^^^^^^^^^^^^^^^^^^^^\n        self._executor.do_inference(self._inference_method(), json_data), timeout=timeout\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"/opt/anaconda3/lib/python3.13/asyncio/tasks.py\", line 507, in wait_for\n    return await fut\n           ^^^^^^^^^\n  File \"/opt/anaconda3/lib/python3.13/site-packages/livekit/agents/ipc/job_proc_lazy_main.py\", line 140, in do_inference\n    raise RuntimeError(f\"inference of {method} failed: {inf_resp.error}\")\nRuntimeError: inference of lk_end_of_utterance_multilingual failed: inference of lk_end_of_utterance_multilingual failed: '_EUORunnerMultilingual' object has no attribute '_tokenizer'", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:52.325726+00:00"}
{"level": "WARNING", "name": "livekit.agents", "message": "skipping user input, speech scheduling is paused", "room": "voice_assistant_room_4404", "user_input": "Drop", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:47:52.327465+00:00"}
{"level": "INFO", "name": "livekit.agents", "message": "process exiting", "reason": "", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:48:13.306217+00:00"}
{"level": "INFO", "name": "agent", "message": "Usage: UsageSummary(llm_prompt_tokens=26456, llm_prompt_cached_tokens=14115, llm_input_audio_tokens=0, llm_input_cached_audio_tokens=0, llm_input_text_tokens=0, llm_input_cached_text_tokens=0, llm_input_image_tokens=0, llm_input_cached_image_tokens=0, llm_completion_tokens=1770, llm_output_audio_tokens=0, llm_output_image_tokens=0, llm_output_text_tokens=0, tts_characters_count=3661, tts_audio_duration=199.8070416666664, stt_audio_duration=355.49999999999955)", "room": "voice_assistant_room_4404", "pid": 8156, "job_id": "AJ_4LfeTFNK7MfG", "room_id": "RM_Vqf5fZzBkbeu", "timestamp": "2025-11-25T15:48:13.310697+00:00"}
Loading env from: /Users/himanshujha/ten-days-of-voice-agents-2025/backend/.env.local
LIVEKIT_URL: wss://voice-agent-l98evavb.livekit.cloud
DEEPGRAM_API_KEY: Present
